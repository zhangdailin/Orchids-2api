{{define "page-accounts"}}
<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{.Title}}</title>
  <link rel="stylesheet" href="{{.AdminPath}}/css/main.css">
</head>

<body>
  {{template "sidebar.html" .}}

  <main class="main-content">
    <section class="header-section" id="accountsHeader">
      <h1 id="pageTitle">è´¦å·ç®¡ç†</h1>
      <p id="pageSubtitle">ç®¡ç†æ‚¨çš„ Orchids API å‡­è¯</p>
    </section>

    <section class="stats-grid" id="statsGrid">
      <div class="stat-card">
        <div class="stat-info">
          <span class="label">æ€»è´¦å·æ•°</span>
          <span class="value" id="totalAccounts">0</span>
        </div>
        <div class="stat-icon total">ğŸ‘¥</div>
      </div>
      <div class="stat-card">
        <div class="stat-info">
          <span class="label">çŠ¶æ€æ­£å¸¸</span>
          <span class="value" style="color: #10b981" id="enabledAccounts">0</span>
        </div>
        <div class="stat-icon normal">âœ…</div>
      </div>
      <div class="stat-card">
        <div class="stat-info">
          <span class="label">çŠ¶æ€å¼‚å¸¸</span>
          <span class="value" style="color: #ef4444" id="disabledAccounts">0</span>
        </div>
        <div class="stat-icon abnormal">âš ï¸</div>
      </div>
      <div class="stat-card">
        <div class="stat-info">
          <span class="label">å·²é€‰ä¸­</span>
          <span class="value" style="color: #8b5cf6" id="selectedCount">0</span>
        </div>
        <div class="stat-icon selected">ğŸ“‹</div>
      </div>
    </section>

    <div id="accountsTabContent">
      <div class="toolbar" style="padding: 16px; gap: 16px; flex-wrap: wrap;">
        <div class="filter-tabs" id="platformFilters"></div>

        <div
          style="flex: 1; display: flex; gap: 12px; align-items: center; justify-content: flex-end; flex-wrap: wrap;">
          <div style="display: flex; gap: 8px; flex-wrap: wrap; align-items: center;">
            <button class="btn btn-outline" onclick="document.getElementById('importFile').click()">ğŸ“¤ å¯¼å…¥</button>
            <button class="btn btn-outline" onclick="exportAccounts()">ğŸ“¥ å¯¼å‡º</button>
            <input type="file" id="importFile" accept=".json" style="display: none" onchange="importAccounts(event)" />
          </div>
          <div style="width: 1px; height: 24px; background: #e2e8f0; margin: 0 4px;"></div>
          <div style="display: flex; gap: 8px;">
            <button class="btn btn-outline" id="batchDeleteBtn" disabled onclick="batchDeleteAccounts()">ğŸ—‘ï¸
              æ‰¹é‡åˆ é™¤</button>
            <button class="btn btn-danger-outline" onclick="clearAbnormalAccounts()">ğŸ§¹ æ¸…ç©ºå¼‚å¸¸</button>
          </div>
          <button class="btn btn-primary" style="background: #3b82f6; border: none; padding: 8px 20px;"
            onclick="openModal()">+ æ·»åŠ è´¦å·</button>
        </div>
      </div>

      <div class="content-card">
        <div id="accountsList">
          <div class="empty-state"
            style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 300px; color: #94a3b8;">
            <span style="font-size: 3rem; margin-bottom: 16px;">ğŸ“‚</span>
            <p>æš‚æ— è´¦å·æ•°æ®</p>
          </div>
        </div>
      </div>

      <div
        style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; color: var(--text-secondary); font-size: 0.9rem;">
        <div id="paginationInfo">å…± 0 æ¡è®°å½•ï¼Œç¬¬ 1/1 é¡µ</div>
        <div style="display: flex; gap: 12px; align-items: center;">
          <select class="form-input" style="width: auto; margin: 0;" onchange="updatePageSize(this.value)">
            <option value="20">20 æ¡/é¡µ</option>
            <option value="50">50 æ¡/é¡µ</option>
            <option value="100">100 æ¡/é¡µ</option>
          </select>
          <div style="display: flex; gap: 4px;" id="paginationControls">
            <button class="btn btn-outline" style="padding: 4px 10px;">é¦–é¡µ</button>
            <button class="btn btn-outline" style="padding: 4px 10px;">ä¸Šä¸€é¡µ</button>
            <button class="btn btn-primary"
              style="padding: 4px 10px; min-width: 32px; justify-content: center;">1</button>
            <button class="btn btn-outline" style="padding: 4px 10px;">ä¸‹ä¸€é¡µ</button>
            <button class="btn btn-outline" style="padding: 4px 10px;">æœ«é¡µ</button>
          </div>
        </div>
      </div>
    </div>
  </main>

  {{template "model-modal.html"}}
  {{template "key-modals.html"}}
  {{template "account-modal.html"}}

  <!-- Toast Container -->
  <div class="toast-container" id="toastContainer"></div>

  <script src="{{.AdminPath}}/js/common.js?v=20260131"></script>
  <script src="{{.AdminPath}}/js/accounts.js?v=20260131"></script>
</body>

</html>
{{end}}