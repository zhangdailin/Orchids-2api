<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Video Stream</title>
  <link rel="stylesheet" href="/static/public/css/public.css">
</head>
<body>
  <main class="page stack">
    <header class="header">
      <div>
        <h1 class="title">Video Stream</h1>
        <p class="subtitle">Public video generation with progress, previews and reference-image upload.</p>
      </div>
      <nav class="nav">
        <a href="/login">Login</a>
        <a href="/imagine">Imagine</a>
        <a href="/voice">Voice</a>
        <a href="/video">Video</a>
      </nav>
    </header>

    <section class="card stack">
      <div class="field">
        <label for="prompt">Prompt</label>
        <textarea id="prompt" placeholder="Describe the video"></textarea>
      </div>

      <div class="row">
        <div class="field compact">
          <label for="ratio">Aspect Ratio</label>
          <select id="ratio">
            <option value="3:2" selected>3:2</option>
            <option value="16:9">16:9</option>
            <option value="9:16">9:16</option>
            <option value="2:3">2:3</option>
            <option value="1:1">1:1</option>
          </select>
        </div>
        <div class="field compact">
          <label for="length">Length</label>
          <select id="length">
            <option value="6" selected>6</option>
            <option value="10">10</option>
            <option value="15">15</option>
          </select>
        </div>
        <div class="field compact">
          <label for="resolution">Resolution</label>
          <select id="resolution">
            <option value="480p" selected>480p</option>
            <option value="720p">720p</option>
          </select>
        </div>
        <div class="field compact">
          <label for="preset">Preset</label>
          <select id="preset">
            <option value="normal" selected>normal</option>
            <option value="fun">fun</option>
            <option value="spicy">spicy</option>
            <option value="custom">custom</option>
          </select>
        </div>
        <div class="field compact">
          <label for="effort">Reasoning Effort</label>
          <select id="effort">
            <option value="" selected>(none)</option>
            <option value="none">none</option>
            <option value="minimal">minimal</option>
            <option value="low">low</option>
            <option value="medium">medium</option>
            <option value="high">high</option>
            <option value="xhigh">xhigh</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div class="field">
          <label for="imageUrl">Image URL / Data URI (optional, image-to-video)</label>
          <input id="imageUrl" type="text" placeholder="https://... or data:image/...">
        </div>
        <div class="ref-actions">
          <input id="imageFileInput" type="file" accept="image/*" class="hidden-file-input">
          <button id="selectImageFileBtn" class="btn secondary small" type="button">Upload</button>
          <button id="clearImageFileBtn" class="btn secondary small" type="button">Clear</button>
        </div>
      </div>
      <div id="imageFileName" class="file-name">No file selected</div>

      <div class="row">
        <button id="startBtn" class="btn" type="button">Start</button>
        <button id="stopBtn" class="btn danger" type="button">Stop</button>
        <button id="clearBtn" class="btn secondary" type="button">Clear Output</button>
      </div>

      <div id="status" class="status"></div>

      <div class="progress-wrap">
        <div id="progressBar" class="progress-bar">
          <div id="progressFill" class="progress-fill"></div>
        </div>
        <div class="progress-meta">
          <span id="progressText">0%</span>
          <span id="durationValue">Elapsed -</span>
        </div>
      </div>

      <div class="meta-grid">
        <div class="meta-item">
          <div class="meta-label">Aspect</div>
          <div id="aspectValue" class="meta-value">-</div>
        </div>
        <div class="meta-item">
          <div class="meta-label">Length</div>
          <div id="lengthValue" class="meta-value">-</div>
        </div>
        <div class="meta-item">
          <div class="meta-label">Resolution</div>
          <div id="resolutionValue" class="meta-value">-</div>
        </div>
        <div class="meta-item">
          <div class="meta-label">Preset</div>
          <div id="presetValue" class="meta-value">-</div>
        </div>
      </div>
    </section>

    <section class="card stack">
      <div class="row between">
        <h2 class="section-title">Preview</h2>
      </div>
      <div id="videoEmpty" class="empty-state">Waiting for generated video.</div>
      <div id="videoStage" class="video-stage"></div>
    </section>

    <section class="card stack">
      <label for="logOutput">Raw Stream</label>
      <pre id="logOutput" class="log"></pre>
    </section>
  </main>

  <script src="/static/public/js/common.js"></script>
  <script src="/static/public/js/video.js"></script>
</body>
</html>
